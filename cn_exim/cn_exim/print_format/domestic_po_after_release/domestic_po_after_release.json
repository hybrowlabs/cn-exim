{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-02-19 17:13:02.272204",
 "css": "*{\n    padding:0;\n    margin:0;\n    box-sizing:border-box;\n}\n\n.tax-break-table {\n        width: 100%;\n        border-collapse: collapse;\n        table-layout: fixed; /* Ensures equal column distribution */\n    }\n    \n.tax-break-table > th, td {\n        border: 1px solid black;\n        text-align: center;\n        word-wrap: break-word;\n    }\n    \n.tax-break-table > th {\n        background-color: #f2f2f2;\n    }\n.desc-column {\n        width: 14%; /* Allocating more space to Material Description */\n        text-align: left;\n    }\n.tax-column {\n        width: 24%; /* Allocating more space to Material Description */\n        text-align: center;\n    }\n\n.print-format{\n    padding:0;\n}\n\n.footer{\n    position: fixed;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    text-align: center;\n    font-size: 12px;\n    padding: 10px;\n    border-top: 1px solid #ccc;\n}\n\n.footer p {\n    margin: 0;\n    padding: 0;\n}",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Purchase Order",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "<main>\n<table border=\"1\" style=\"width:100%;\">\n    <thead>\n        <tr>\n            <th colspan=\"6\" style=\"text-decoration:underline;text-align:center;\">DOMESTIC PURCHASE ORDER</th>\n        </tr>\n        <tr>\n            <td colspan=\"2\" style=\"text-align: center;width:25%\">\n                <img src=\"/files/Meril_Image.png\" alt=\"Meril Image\" style=\"object-fit:scale-down\">\n            </td>\n            <th colspan=\"4\" style=\"text-align: left; font-weight: bold;\">\n                <strong>Bill To :{{doc.company}}</strong><br><br>\n                <strong>{{doc.billing_address_display}}</strong>\n            </th>\n        </tr>\n        <tr>\n            <th>Supplier</th>\n            <th>Code: {{doc.supplier}}</th>\n            <th>P.O. No.</th>\n            <td>{{doc.name}}</td>\n            <th>Date</th>\n            <td>{{doc.transaction_date}}</td>\n        </tr>\n        <tr>\n            <th colspan=\"2\" rowspan=\"4\">Supplier<br>{{doc.supplier_name}}<br>{{doc.address_display}}</th>\n            <th>Amd. Ver. No.</th>\n            <td></td>\n            <th>Date</th>\n            <td>{{doc.schedule_date}}</td>\n        </tr>\n        <tr>\n            <th>Purchase Group</th>\n            <td colspan=\"3\"></td>\n        </tr>\n        <tr>\n            <th>Ref. PR No.</th>\n            <td>{{doc.name}}</td>\n            <th>Ref. PR Date</th>\n            <td>{{doc.schedule_date or \"\"}}</td>\n        </tr>\n        <tr>\n            <th>Ref. PR Person:</th>\n            <td colspan=\"3\">{{doc.contact_display or \"\"}}</td>\n        </tr>\n        <tr>\n            <th>VENDOR GSTIN No.</th>\n            <td></td> \n            <th>Contact Person</th>\n            <td>{{doc.contact_display or \"\"}}</td>\n            <th>Phone</th>\n            <td>{{doc.contact_mobile or \"\"}}</td>\n        </tr>\n        <tr>\n            <th>Contact Person</th>\n            <td>{{frappe.db.get_value(\"Supplier\", doc.supplier, \"supplier_primary_contact\") or \"\"}}</td>\n            <th>Email</th>\n            <td colspan=\"3\">{{frappe.db.get_value(\"Supplier\", doc.supplier, \"email_id\") or \"\"}}</td>\n        </tr>\n        <tr>\n            <th>Phone / Mobile No.</th>\n            <td>{{frappe.db.get_value(\"Supplier\", doc.supplier, \"mobile_no\") or \"\"}}</td>\n            <th>GSTIN No.</th>\n            <td colspan=\"3\"></td>\n        </tr>\n        <tr>\n            <th>E-mail</th>\n            <th></th>\n            <th>D/L No.</th>\n            <td colspan=\"3\"></td>\n        </tr>\n        <tr>\n            <th>Delivery Terms</th>\n            <th></th>\n            <th>MSME No.</th>\n            <td colspan=\"3\"></td>\n        </tr>\n        <tr>\n            <th>Dispatch Mode</th>\n            <th></th>\n            <td colspan=\"4\" rowspan=\"3\">\n                <b>Ship To: {{doc.company or \"\"}}</b><br>{{doc.shipping_address_display or \"\"}}\n            </td>\n        </tr>\n        <tr>\n            <th>Currency</th>\n            <th>{{doc.currency or \"\"}}</th>\n        </tr>\n        <tr>\n            <th>Supplier Quote Ref.</th>\n            <th></th>\n        </tr>\n    </thead>\n</table>\n\n<table border=\"1\" style=\"margin-top:10px;display:none;\">\n    <thead>\n        <tr>\n            <th rowspan=\"2\">Sr No.</th>\n            <th rowspan=\"2\">Material Code</th>\n            <th rowspan=\"2\">Material Description</th>\n            <th rowspan=\"2\">HSN/SAC</th>\n            <th rowspan=\"2\">UOM</th>\n            <th rowspan=\"2\">Qty</th>\n            <th rowspan=\"2\">Rate</th>\n            <th colspan=\"3\" style=\"text-align:center;\">Tax</th>\n            <th rowspan=\"2\">Amount</th>\n            <th rowspan=\"2\">Sche.Date</th>\n            <th rowspan=\"2\">Sche.Qty</th>\n        </tr>\n        <tr>\n            <th>CGST</th>\n            <th>SGST</th>\n            <th>IGST</th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n            <th></th>\n        </tr>\n    </thead>\n    <tbody>\n    {% set table_html = doc.gst_breakup_table %}\n\n{% set rows = table_html.split('<tr>')[2:] %}\n{% set gst_data = [] %}\n\n{% for row in rows %}\n    {% set cols = row.split('<td class=\"text-right\">') %}\n    {% if cols|length > 2 %}\n        {% set hsn = row.split('<td class=\"text-left\">')[1].split(\"</td>\")[0] %}\n        {% set taxable_amount = cols[1].split(\"</td>\")[0] | replace(\"\u20b9\", \"\") | trim %}\n        {% set cgst_value = cols[2].split(\"</td>\")[0].split(\"\u20b9\")[-1] | trim %}\n        {% set sgst_value = (cols[3].split(\"</td>\")[0].split(\"\u20b9\")[-1] | trim) if cols|length > 3 else \"0\" %}\n        {% set igst_value = \"0\" if cols|length > 3 else cgst_value %}\n\n        {% set _ = gst_data.append({\n            \"HSN\": hsn,\n            \"Taxable Amount\": taxable_amount,\n            \"CGST\": cgst_value,\n            \"SGST\": sgst_value,\n            \"IGST\": igst_value\n        }) %}\n    {% endif %}\n{% endfor %}\n    <!-- Loop through the items in doc.items and check for HSN match -->\n    {% for item in doc.items %}\n        <tr>\n            <td>{{ loop.index }}</td>\n            <td>{{ item.item_code }}</td>\n            <td>{{ item.description }}</td>\n            <td>{{ item.gst_hsn_code }}</td>\n            <td>{{ item.uom }}</td>\n            <td>{{ item.qty }}</td>\n            <td>{{ item.rate }}</td>\n\n            <!-- Check if the item's HSN matches the extracted HSN -->\n            {% if item.gst_hsn_code == gst_data.HSN %}\n                <td>\u20b9{{ gst_data['CGST'] }}</td> <!-- Populate CGST from matched JSON -->\n                <td>\u20b9{{ gst_data['SGST'] }}</td> <!-- Populate SGST from matched JSON -->\n                <td>\u20b9{{ gst_data['IGST'] }}</td> <!-- Populate IGST from matched JSON -->\n            {% else %}\n                <td>0</td> <!-- Default CGST if no match -->\n                <td>0</td> <!-- Default SGST if no match -->\n                <td>0</td> <!-- Default IGST if no match -->\n            {% endif %}\n\n            <td>{{ item.amount }}</td>\n            <td>{{ item.schedule_date }}</td>\n            <td>{{ item.qty }}</td>\n        </tr>\n        <tr>\n            <td colspan=\"10\"></td>\n            <th>NET : {{ total_amount or 0 }}</th>\n            <td colspan=\"3\"></td>\n        </tr>\n    {% endfor %}\n    </tbody>\n</table>\n\n<table class=\"tax-break-table\" border=\"1\" style=\"margin-top:10px;\">\n    <thead>\n        <tr>\n            <th style=\"width: 5%;\" rowspan=\"2\">Sr No.</th>\n            <th style=\"width: 10%;\" rowspan=\"2\">Material Code</th>\n            <th class=\"desc-column\" rowspan=\"2\">Material Description</th>\n            <th style=\"width: 10%;\" rowspan=\"2\">HSN/SAC</th>\n            <th style=\"width: 7%;\" rowspan=\"2\">UOM</th>\n            <th style=\"width: 7%;\" rowspan=\"2\">Qty</th>\n            <th style=\"width: 7%;\" rowspan=\"2\">Rate</th>\n            <th class=\"tax-column\" colspan=\"3\">Tax</th>\n            <th style=\"width: 11%;\" rowspan=\"2\">Amount</th>\n            <th style=\"width: 13%;\" rowspan=\"2\">Sche.Date</th>\n            <th style=\"width: 13%;\" rowspan=\"2\">Sche.Qty</th>\n        </tr>\n        <tr>\n            <th style=\"width: 8%;\">CGST</th>\n            <th style=\"width: 8%;\">SGST</th>\n            <th style=\"width: 8%;\">IGST</th>\n        </tr>\n    </thead>\n    <tbody>\n        {% for item in doc.items %}\n            {% set gst_entry = gst_data | selectattr(\"HSN\", \"equalto\", item.gst_hsn_code) | first %}\n            {% set cgst_value = gst_entry['CGST'] | float if gst_entry else 0 %}\n            {% set sgst_value = gst_entry['SGST'] | float if gst_entry else 0 %}\n            {% set igst_value = gst_entry['IGST'] | float if gst_entry else 0 %}\n            {% set net_value = cgst_value + sgst_value + igst_value + item.amount %}\n\n            <tr>\n                <td>{{ loop.index }}</td>\n                <td>{{ item.item_code }}</td>\n                <td class=\"desc-column\">{{ item.description }}</td>\n                <td>{{ item.gst_hsn_code }}</td>\n                <td>{{ item.uom }}</td>\n                <td>{{ item.qty }}</td>\n                <td>\u20b9{{ item.rate }}</td>\n                <td>\u20b9{{ cgst_value }}</td>\n                <td>\u20b9{{ sgst_value }}</td>\n                <td>\u20b9{{ igst_value }}</td>\n                <td>\u20b9{{ item.amount }}</td>\n                <td>{{ item.schedule_date }}</td>\n                <td>{{ item.qty }}</td>\n            </tr>\n            <tr>\n                <td colspan=\"10\"></td>\n                <th>NET: \u20b9{{ net_value }}</th>\n                <td colspan=\"3\"></td>\n            </tr>\n        {% endfor %}\n    </tbody>\n</table>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n</br>\n<div style=\"margin-top:10px;border: 1px solid black;padding:5px;\">\n<strong>Terms & Conditions<br></strong>\n        <b>{{ doc.tc_name or '' }}</b>\n        <strong>Terms of Payment :<br> </strong>{{ doc.terms or '' }}<br>\n        <strong>Shipping Instructions :</strong><br>{{ doc.custom_shipping_instruction_terms or '' }}<br>\n        <strong>Delivery Schedule :</strong><br><b>{{ doc.custom_delivery_schedule_term or '' }}</b>{{ doc.custom_delivery_schedule_terms or '' }}<br>\n        <strong>Certificate of Analysis :</strong><br>\n        <strong>Other notes:</strong><br>\n        Tolerance: +/- 10% tolerance in quantity is acceptable to us.<br><br><br>\n        1. It is agreed by and between the parties hereto that in case of any tax liability that arises due to revisions/changes/amendments in the statutory/governmental taxation policy, it shall be the sole and exclusive responsibility of the vendor. The vendor shall indemnify Meril against all/any such instances.<br>\n        2. All invoices should be reflected in our GSTR-2B, and no credit should be disallowed to us against those invoices. In the event of any default on your part, we reserve the right to raise a debit note along with interest and penalties as per Section 49 without prior notification.<br>\n        3. Please inform our purchase team about any credit notes, debit notes, or other corrections/amendments before uploading them to the GSTN portal. Any loss related to GST input tax credit will be recovered from your account.\n</div>\n<table border=\"1\" style=\"margin-top:10px;\">\n    <thead>\n        <tr>\n            <th colspan=\"7\">PLEASE ACKNOWLEDGE THIS PURCHASE ORDER AND ADHERE TO IN ACCORDANCE WITH INSTRUCTION MENTIONED IN P.O. AND CONDITION OVERLEAF/AS AGREED, IF ANY.</th>\n        </tr>\n        <tr>\n            <th style=\"text-align:center;\" colspan=\"7\">For Meril Endo Surgery Pvt Ltd</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td colspan=\"4\">Remarks:</td>\n            <td>Prepared By:</td>\n            <td>Purchase Manager:</td>\n            <td>Head Sourcing:</td>\n        </tr>\n        </tr>\n            <td colspan=\"6\">\n                <strong>Address:</strong> {{ doc.address_display }}\n            </td>\n            <td colspan=\"6\">\n                {% set qr_data = \"Purchase Order: \" + doc.name %}\n                <img src=\"data:image/png;base64,{{ get_qr_code(qr_data, scale=2) }}\" style=\"object-fit: scale-down;\">\n            </td>\n        </tr>\n    </tbody>\n</table>\n<div class=\"footer\">\n        <p>Footer Text - Page {{ page_number }} of {{ total_pages }}</p>\n</div>\n</main>",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2025-03-18 17:09:03.156416",
 "modified_by": "Administrator",
 "module": "Cn Exim",
 "name": "Domestic Po After Release",
 "owner": "Administrator",
 "page_number": "Hide",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}